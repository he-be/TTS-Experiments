import os
from optimize_script_gen import Optimizer, save_log

# Manually paste the script from the previous run (The Black Hole one)
SCRIPT_TO_EVALUATE = """
テーマ：「ブラックホールの特異点」について。

……ふふ、今日はあなたを少し驚かせてあげようかしら。

宇宙物理学における、最も神秘的で、かつドラマチックな現象の一つ。

そう、「ブラックホール」の内側にある「特異点」についてお話しするのよ。

……え？

いきなり分厚い辞典を机に広げて、何を探しているというのですか？

あら、なるほど。
私が「事象の地平線」という言葉を口にする前に、何かの拍子に「事象」＝「辞書」の単語として認識してしまったのね？
確かに音韻は全く同じですわ。「事象」と「辞書」。
カタカナで書けばどちらも「ジショウ」ですから、あなたの脳内辞書が誤変換を起こしたのも無理はありません。

ですが、私たちは今、言葉の意味を調べるためにここにいるのではありませんわ。
宇宙の構造そのものについて語っているのですから、早くその本をしまってくださいまし。

さて、話を戻しますわね。

ブラックホールの中心、そこには重力が無限大になる「特異点」が存在する……。

……はい？
なにですか、そのキラキラした目つきは。

「特異点」を「特売点」と聞き間違えた、ですって？

ほう……。
「トクイテン（特異点）」と「トクバイテン（特売点）」。
確かにリズム感は似ていますわね。
特に「テン」という撥音が共通していますから、耳が頼りな方にとってはスーパーの売り場案内に聞こえたのも無理はありません。
あなたの思考回路が常に食料品コーナーに接続されていることを考慮すれば、当然の連想と言えます。

ですが、宇宙にセールはありませんわ！
ここで何かが安くなっているわけではないのです！
物質が潰れつくない限り戻れない地点なのよ。

え？ じゃあ、潰れさえすれば「戻り値」が出る……？
違いますわ！ プログラミングの話でもありません！
「潰れる」は物理的な崩壊を指すのであって、関数の呼び出し元への復帰ではないのですよ。

もう、本当に……。
なぜそこまで常識はずれな方向へ思考が飛んでいくの？

もう一度だけだけど、しっかり聞いてくださいまし。

この特異点に近づくと、光さえも脱出できないのです。

……おや、いきなり水曜日のカレーを思い出そうとして顔をしかめないで。
「光（ヒカリ）」を「ひかり（照明）」や「ひかり（列車）」と捉えるのはまだ理解できますが、「光が脱出できない」という物理法則を、「週末の特急列車が運休する」という交通事情にすり替えるのは、あまりにも飛躍しすぎですわ。
「脱出」と「遅延」は似て非なる概念です。

それに、この空間の「歪み」は想像を絶するものがあるの。

……はぁ。
深いため息をつかないでください。
また変な勘違いをしたのですね？

私が「歪み（ひずみ）」と言ったので、あなたは「ひだまり」を連想した。
温かい日向ぼっこのような空間をイメージしたのですって？

……無知とは、恐ろしいものですね。
「ひずみ」と「ひだまり」。
「ズ」と「ダ」。
「ミ」と「マ」。
母音は一致していますが、子音の響きが全く違います。
にもかかわらず、あなたの脳は「なんかいい感じの言葉」というカテゴリで処理してしまったのでしょうか。
ブラックホールの中は、日の当たる穏やかな場所どころか、あらゆるものが引き裂かれる極寒の獄なのよ？
そんな場所で団欒だなんて、自殺行為に等しいですわ。

もう、これ以上は話が通じませんわ。
あなたのその柔らかい頭の中で、私の言葉がどれほど悲惨に変換され、再構築されているのか、想像するだけでも疲れてきます……。
"""

def main():
    opt = Optimizer()
    print("Running judgment on existing script...")
    evaluation = opt.judge_absolute(SCRIPT_TO_EVALUATE)
    
    if evaluation:
        print("\nEvaluation Result:\n")
        print(evaluation)
        save_log("manual_judgment_1.md", f"# Manual Judgment\n{evaluation}")
    else:
        print("Judgment failed.")

if __name__ == "__main__":
    main()
